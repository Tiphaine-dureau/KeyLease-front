<app-title [title]="'Détails du propriétaire'" [back]="'/proprietaires'"></app-title>
<ng-container *ngIf="owner">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
    <!--IDENTITY CARD-->
    <app-identity-card [data]="owner" [subtitle]="subtitle"></app-identity-card>
    <div class="flex flex-col">
      <!--IBAN CARD-->
      <mat-card class="mb-3">
        <mat-card-header>
          <mat-card-title>Relevé d'identité bancaire</mat-card-title>
          <mat-card-subtitle>IBAN</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{owner.iban}}</p>
        </mat-card-content>
      </mat-card>
      <!--BALANCE CARD-->
      <app-balance-card [expectedRentAmount]="owner.expectedRentAmount" [balance]="owner.balance"
                        class="flex-1"></app-balance-card>
    </div>
  </div>
  <div class="flex mt-3">
    <button mat-raised-button color="accent" class="me-3" routerLink="/proprietaires/{{ownerId}}/modification">
      Modifier
    </button>
    <button mat-raised-button color="warn" (click)="deleteOwner()">Supprimer</button>
  </div>
</ng-container>

<ng-container *ngIf="isLoading">
  <app-spinner></app-spinner>
</ng-container>
